fun infinity_loop(n) do
  if (n > 1000000) do
    "Finished with TCO!"
  else
    infinity_loop(n + 1)
  end
end

print(infinity_loop(0))

fun infinity_loop_pipe(n) do
  if (n > 1000000) do
    "Finished with TCO with pipe!"
  else
    n + 1 |> infinity_loop_pipe()
  end
end

print(infinity_loop_pipe(0))
